tinymce.PluginManager.requireLangPack("syntaxHighlight");tinymce.PluginManager.add("syntaxHighlight",function(d,c){var g={},f="html",e=false,b=false;function a(){var j=d.selection,n=d.dom,l,k,h;g={};l=[{text:"Choose Language",value:"0"},{text:"BASH",value:"bash"},{text:"C / C++",value:"c"},{text:"C#",value:"csharp"},{text:"CSS",value:"css"},{text:"DIFF",value:"diff"},{text:"HTML",value:"html"},{text:"Java",value:"java"},{text:"JavaScript",value:"js"},{text:"Perl",value:"perl"},{text:"PHP",value:"php"},{text:"Python",value:"py"},{text:"Ruby",value:"ruby"},{text:"Text",value:"text"},{text:"SQL",value:"sql"},{text:"XML",value:"XML"}];k=l.length;e=j.getNode();try{g=JSON.parse('{"'+n.getAttrib(e,"class").replace(/first-line/g,"firstLine").replace(/: /g,'": "').replace(/; /g,'","').replace(/"true"/g,"true").replace(/"false"/g,"false").replace(/"\[/g,"[").replace(/\]"/g,"]")+"}")}catch(m){g={brush:f,gutter:true,firstLine:1,highlight:[]}}if(e.nodeName=="BODY"){b=false}else{if(e.nodeName=="PRE"){b=true;g.codebox=n.getParent(e).textContent.replace(/\&lt\;/g,"<").replace(/\&gt\;/g,">")}else{b=true;e=n.getParent(e);g.codebox=n.getParent(e).textContent.replace(/\&lt\;/g,"<").replace(/\&gt\;/g,">")}}for(h=0;h<k;h++){if(l[h].value==g.brush){l[h].selected=true}}d.windowManager.open({title:"Syntax Highlighter",data:g,body:[{name:"Language",type:"listbox",values:l,onselect:function(){g.brush=this.value()}},{type:"container",layout:"flex",direction:"row",align:"center",spacing:5,items:[{type:"label",text:"Start :"},{name:"firstLine",type:"textbox",tooltip:"Start number"},{type:"label",text:"Highlights :"},{name:"highlight",type:"textbox",tooltip:"Highlights Help"},{type:"checkbox",checked:g.gutter,text:"Show Numbers",onclick:function(){g.gutter=this.value()}}]},{name:"codebox",type:"textbox",minHeight:250,multiline:true}],onsubmit:function(s){var q,o,p,i,r;q=s.data.codebox.replace(/</g,"&lt;").replace(/>/g,"&gt;");o=s.data.highlight.replace(/[^0-9,\-]/g,"");p=s.data.firstLine.replace(/[^0-9]/g,"");i=g.brush;r=g.gutter;if(p==""){p=1}if(b==true){setTimeout(function(){d.dom.remove(e)},0)}setTimeout(function(){d.insertContent('<pre style="background-color: #353535; color: #fff; margin: 5px 0; padding: 10px;" class="brush: '+i+"; gutter: "+r+"; first-line: "+p+"; highlight: ["+o+']">'+q+"</pre>",{format:"raw"})},0)}})}d.addButton("syntaxHighlight",{image:c+"/img/syntaxHighlight.gif",tooltip:"Insert Code",onclick:function(){a()}});d.addMenuItem("syntaxHighlight",{text:"code",image:c+"/img/syntaxHighlight.gif",context:"insert",onclick:function(){a()}})});